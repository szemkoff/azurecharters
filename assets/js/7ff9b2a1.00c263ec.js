"use strict";(self.webpackChunkazure_yacht_group=self.webpackChunkazure_yacht_group||[]).push([[2681],{7969:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var t=r(4848),a=r(8453);const i={id:"hubspot-referral-setup-guide",title:"HubSpot Referral System - Step-by-Step Setup Guide",sidebar_position:9,description:"Detailed implementation guide with actual mechanics for setting up the influencer referral tracking system"},s="HubSpot Referral System - Step-by-Step Setup Guide",o={id:"integration/hubspot-referral-setup-guide",title:"HubSpot Referral System - Step-by-Step Setup Guide",description:"Detailed implementation guide with actual mechanics for setting up the influencer referral tracking system",source:"@site/docs/integration/hubspot-referral-setup-guide.md",sourceDirName:"integration",slug:"/integration/hubspot-referral-setup-guide",permalink:"/azurecharters/docs/integration/hubspot-referral-setup-guide",draft:!1,unlisted:!1,editUrl:"https://github.com/szemkoff/azurecharters/tree/main/docs/integration/hubspot-referral-setup-guide.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{id:"hubspot-referral-setup-guide",title:"HubSpot Referral System - Step-by-Step Setup Guide",sidebar_position:9,description:"Detailed implementation guide with actual mechanics for setting up the influencer referral tracking system"}},l={},c=[{value:"Phase 1: HubSpot CRM Configuration",id:"phase-1-hubspot-crm-configuration",level:2},{value:"Step 1.1: Create Custom Contact Properties for Influencers",id:"step-11-create-custom-contact-properties-for-influencers",level:3},{value:"Step 1.2: Create Custom Deal Properties for Tracking",id:"step-12-create-custom-deal-properties-for-tracking",level:3},{value:"Step 1.3: Create Custom Pipeline for Partner Management",id:"step-13-create-custom-pipeline-for-partner-management",level:3},{value:"Phase 2: Workflow Automation Setup",id:"phase-2-workflow-automation-setup",level:2},{value:"Step 2.1: Partner Onboarding Workflow",id:"step-21-partner-onboarding-workflow",level:3},{value:"Step 2.2: Referral Tracking Workflow",id:"step-22-referral-tracking-workflow",level:3},{value:"Phase 3: Website Tracking Implementation",id:"phase-3-website-tracking-implementation",level:2},{value:"Step 3.1: Add Tracking Script to Tilda Website",id:"step-31-add-tracking-script-to-tilda-website",level:3},{value:"Phase 4: Form Integration",id:"phase-4-form-integration",level:2},{value:"Step 4.1: Update Tilda Forms",id:"step-41-update-tilda-forms",level:3},{value:"Step 4.2: HubSpot Form Mapping",id:"step-42-hubspot-form-mapping",level:3},{value:"Phase 5: Dashboard Creation",id:"phase-5-dashboard-creation",level:2},{value:"Step 5.1: Create Partner Performance Dashboard",id:"step-51-create-partner-performance-dashboard",level:3},{value:"Phase 6: Testing Checklist",id:"phase-6-testing-checklist",level:2},{value:"End-to-End Testing",id:"end-to-end-testing",level:3},{value:"Phase 7: Go-Live Process",id:"phase-7-go-live-process",level:2},{value:"Pre-Launch Checklist",id:"pre-launch-checklist",level:3},{value:"Launch Steps",id:"launch-steps",level:3},{value:"Quick Start Commands",id:"quick-start-commands",level:2},{value:"HubSpot API Setup (Node.js)",id:"hubspot-api-setup-nodejs",level:3},{value:"Referral Link Generator",id:"referral-link-generator",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"hubspot-referral-system---step-by-step-setup-guide",children:"HubSpot Referral System - Step-by-Step Setup Guide"}),"\n",(0,t.jsx)(n.h2,{id:"phase-1-hubspot-crm-configuration",children:"Phase 1: HubSpot CRM Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"step-11-create-custom-contact-properties-for-influencers",children:"Step 1.1: Create Custom Contact Properties for Influencers"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Navigate to:"})," Settings \u2192 Properties \u2192 Contact Properties"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Create these properties:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"Property 1: Referral Partner ID\n  - Internal Name: referral_partner_id\n  - Field Type: Single-line text\n  - Required: Yes\n  - Description: Unique identifier for referral partner\n\nProperty 2: Partner Status\n  - Internal Name: partner_status\n  - Field Type: Dropdown\n  - Options: \n    * New Application\n    * Active\n    * Inactive\n    * Suspended\n    * Terminated\n\nProperty 3: Referral Tier\n  - Internal Name: referral_tier\n  - Field Type: Dropdown\n  - Options:\n    * Tier 1 (0-5 bookings)\n    * Tier 2 (6-15 bookings)\n    * Tier 3 (16+ bookings)\n\nProperty 4: Total Referrals\n  - Internal Name: total_referrals\n  - Field Type: Number\n  - Default Value: 0\n\nProperty 5: Total Commissions Earned\n  - Internal Name: total_commissions_earned\n  - Field Type: Number\n  - Default Value: 0\n\nProperty 6: Commission Rate\n  - Internal Name: commission_rate\n  - Field Type: Number\n  - Description: Current commission percentage (8, 10, or 12)\n\nProperty 7: Payment Method\n  - Internal Name: payment_method\n  - Field Type: Dropdown\n  - Options:\n    * PayPal\n    * Bank Transfer\n    * Check\n    * Stripe\n\nProperty 8: Tax ID\n  - Internal Name: tax_id\n  - Field Type: Single-line text\n  - Description: For 1099 reporting\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-12-create-custom-deal-properties-for-tracking",children:"Step 1.2: Create Custom Deal Properties for Tracking"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Navigate to:"})," Settings \u2192 Properties \u2192 Deal Properties"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"Property 1: Referral Source\n  - Internal Name: referral_source\n  - Field Type: Single-line text\n  - Description: Referral code used\n\nProperty 2: Referring Partner ID\n  - Internal Name: referring_partner_id\n  - Field Type: Single-line text\n  - Description: ID of referring partner\n\nProperty 3: Commission Amount\n  - Internal Name: commission_amount\n  - Field Type: Number\n  - Description: Commission owed for this deal\n\nProperty 4: Commission Status\n  - Internal Name: commission_status\n  - Field Type: Dropdown\n  - Options:\n    * Pending\n    * Approved\n    * Paid\n    * Disputed\n\nProperty 5: Original Referral Date\n  - Internal Name: original_referral_date\n  - Field Type: Date picker\n  - Description: When referral link was first clicked\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-13-create-custom-pipeline-for-partner-management",children:"Step 1.3: Create Custom Pipeline for Partner Management"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Navigate to:"})," Settings \u2192 Objects \u2192 Deals \u2192 Pipelines"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Create Pipeline:"}),' "Partner Referral Tracking"']}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"Pipeline Stages:\n1. Referral Received\n   - Deal enters when referral is detected\n   - Probability: 10%\n\n2. Initial Contact\n   - First contact with referred prospect\n   - Probability: 25%\n\n3. Proposal Sent\n   - Charter proposal provided\n   - Probability: 50%\n\n4. Negotiation\n   - Terms being discussed\n   - Probability: 75%\n\n5. Closed Won\n   - Charter booked and confirmed\n   - Probability: 100%\n\n6. Closed Lost\n   - Referral did not convert\n   - Probability: 0%\n"})}),"\n",(0,t.jsx)(n.h2,{id:"phase-2-workflow-automation-setup",children:"Phase 2: Workflow Automation Setup"}),"\n",(0,t.jsx)(n.h3,{id:"step-21-partner-onboarding-workflow",children:"Step 2.1: Partner Onboarding Workflow"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Navigate to:"})," Automation \u2192 Workflows \u2192 Create Workflow"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Workflow Name:"}),' "Partner Onboarding Automation"']}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Configuration:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'Trigger Type: Contact-based\nEnrollment Trigger: \n  - Contact property "Partner Status" is equal to "New Application"\n\nActions Sequence:\n1. Send Email: Welcome to Azure Partner Program\n   - Template: Partner welcome email\n   - Delay: None\n\n2. Create Task\n   - Task Title: "Review new partner application: {Contact Name}"\n   - Assign to: Partner Manager\n   - Due Date: 3 days from now\n\n3. Set Property Value\n   - Property: Partner Status\n   - Value: Under Review\n   - Delay: None\n\n4. Generate Partner ID (Custom Code Action)\n   - Code: Generate unique partner ID\n   - Set referral_partner_id property\n\n5. Send Internal Notification\n   - Notify: Partner management team\n   - Subject: New partner application received\n'})}),"\n",(0,t.jsx)(n.h3,{id:"step-22-referral-tracking-workflow",children:"Step 2.2: Referral Tracking Workflow"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Workflow Name:"}),' "Referral Attribution Tracking"']}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'Trigger Type: Deal-based\nEnrollment Trigger:\n  - Deal is created\n  - AND "Referral Source" is known (not empty)\n\nActions Sequence:\n1. Custom Code Action: Validate Referral Code\n2. Calculate Commission\n3. Send Partner Notification\n4. Create Internal Task\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Custom Code for Referral Validation:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Validate referral code format and find partner\nconst referralCode = deal.properties.referral_source;\nconst partnerId = referralCode.substring(0, 6); // Extract partner ID\n\n// Find partner contact\nconst partnerContact = await hubspot.contacts.search({\n  filterGroups: [{\n    filters: [{\n      propertyName: 'referral_partner_id',\n      operator: 'EQ',\n      value: partnerId\n    }]\n  }]\n});\n\nif (partnerContact.results.length > 0) {\n  // Set referring partner ID\n  await hubspot.deals.update(deal.id, {\n    properties: {\n      referring_partner_id: partnerId\n    }\n  });\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"phase-3-website-tracking-implementation",children:"Phase 3: Website Tracking Implementation"}),"\n",(0,t.jsx)(n.h3,{id:"step-31-add-tracking-script-to-tilda-website",children:"Step 3.1: Add Tracking Script to Tilda Website"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Location:"})," Add to all pages in Tilda (Settings \u2192 Advanced \u2192 HTML for head)"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"\x3c!-- Azure Yacht Referral Tracking --\x3e\n<script>\n(function() {\n  'use strict';\n  \n  // Configuration\n  const config = {\n    cookieName: 'azure_referral',\n    cookieDuration: 90, // days\n    trackingEnabled: true\n  };\n  \n  // Get URL parameters\n  function getUrlParameter(name) {\n    const urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get(name);\n  }\n  \n  // Set cookie\n  function setCookie(name, value, days) {\n    const expires = new Date();\n    expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));\n    document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/;SameSite=Lax`;\n  }\n  \n  // Get cookie\n  function getCookie(name) {\n    const nameEQ = name + \"=\";\n    const ca = document.cookie.split(';');\n    for(let i = 0; i < ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n  }\n  \n  // Track referral\n  function trackReferral(referralCode) {\n    const referralData = {\n      code: referralCode,\n      timestamp: new Date().toISOString(),\n      page: window.location.href\n    };\n    \n    // Store in cookie\n    setCookie(config.cookieName, JSON.stringify(referralData), config.cookieDuration);\n    \n    // Send to HubSpot\n    if (typeof _hsq !== 'undefined') {\n      _hsq.push(['identify', {\n        referral_source: referralCode,\n        referral_timestamp: referralData.timestamp\n      }]);\n    }\n  }\n  \n  // Initialize tracking\n  function initializeTracking() {\n    const referralCode = getUrlParameter('ref') || getUrlParameter('referral');\n    \n    if (referralCode) {\n      trackReferral(referralCode);\n      console.log('Referral tracked:', referralCode);\n    }\n  }\n  \n  // Run when DOM is ready\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initializeTracking);\n  } else {\n    initializeTracking();\n  }\n  \n  // Track form submissions\n  document.addEventListener('submit', function(e) {\n    if (e.target.tagName === 'FORM') {\n      const referralCookie = getCookie(config.cookieName);\n      if (referralCookie) {\n        const referralData = JSON.parse(referralCookie);\n        \n        // Add hidden field to form\n        const hiddenField = document.createElement('input');\n        hiddenField.type = 'hidden';\n        hiddenField.name = 'referral_source';\n        hiddenField.value = referralData.code;\n        e.target.appendChild(hiddenField);\n      }\n    }\n  });\n  \n})();\n<\/script>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"phase-4-form-integration",children:"Phase 4: Form Integration"}),"\n",(0,t.jsx)(n.h3,{id:"step-41-update-tilda-forms",children:"Step 4.1: Update Tilda Forms"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"For each inquiry form, add this hidden field:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<input type="hidden" name="referral_source" id="referral_source" value="">\n'})}),"\n",(0,t.jsx)(n.h3,{id:"step-42-hubspot-form-mapping",children:"Step 4.2: HubSpot Form Mapping"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"In HubSpot:"})," Settings \u2192 Integrations \u2192 Connected Apps \u2192 Tilda"]}),"\n",(0,t.jsxs)(n.p,{children:["Map the ",(0,t.jsx)(n.code,{children:"referral_source"})," field to the ",(0,t.jsx)(n.code,{children:"referral_source"})," property in HubSpot."]}),"\n",(0,t.jsx)(n.h2,{id:"phase-5-dashboard-creation",children:"Phase 5: Dashboard Creation"}),"\n",(0,t.jsx)(n.h3,{id:"step-51-create-partner-performance-dashboard",children:"Step 5.1: Create Partner Performance Dashboard"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Navigate to:"})," Reports \u2192 Dashboards \u2192 Create Dashboard"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Dashboard Name:"}),' "Partner Performance Dashboard"']}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Add these reports:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Active Partners Count"})," (Single Value)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monthly Referrals"})," (Line Chart)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Top Performing Partners"})," (Table)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Commission Status Breakdown"})," (Donut Chart)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"phase-6-testing-checklist",children:"Phase 6: Testing Checklist"}),"\n",(0,t.jsx)(n.h3,{id:"end-to-end-testing",children:"End-to-End Testing"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'Test Steps:\n1. Create Test Partner\n   \u25a1 Add contact with partner properties\n   \u25a1 Set status to "New Application"\n   \u25a1 Verify workflow triggers\n\n2. Generate Test Referral Link\n   \u25a1 Format: https://azurcharters.com?ref=TEST001\n   \u25a1 Visit link and check cookie is set\n   \u25a1 Verify HubSpot tracking\n\n3. Submit Test Form\n   \u25a1 Fill out inquiry form\n   \u25a1 Check referral source is captured\n   \u25a1 Verify deal is created\n\n4. Process Test Commission\n   \u25a1 Move deal to "Closed Won"\n   \u25a1 Check commission calculation\n   \u25a1 Verify partner stats update\n'})}),"\n",(0,t.jsx)(n.h2,{id:"phase-7-go-live-process",children:"Phase 7: Go-Live Process"}),"\n",(0,t.jsx)(n.h3,{id:"pre-launch-checklist",children:"Pre-Launch Checklist"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"Technical:\n\u25a1 All properties created\n\u25a1 Workflows active\n\u25a1 Tracking script deployed\n\u25a1 Forms updated\n\u25a1 Dashboard created\n\nBusiness:\n\u25a1 Partner agreements ready\n\u25a1 Commission structure finalized\n\u25a1 Payment process established\n\u25a1 Legal compliance verified\n"})}),"\n",(0,t.jsx)(n.h3,{id:"launch-steps",children:"Launch Steps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Week 1:"})," Deploy tracking script"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Week 2:"})," Onboard first 5 partners"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Week 3:"})," Test full process end-to-end"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Week 4:"})," Scale to 15+ partners"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"quick-start-commands",children:"Quick Start Commands"}),"\n",(0,t.jsx)(n.h3,{id:"hubspot-api-setup-nodejs",children:"HubSpot API Setup (Node.js)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install @hubspot/api-client\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const hubspot = require('@hubspot/api-client');\nconst hubspotClient = new hubspot.Client({accessToken: 'YOUR_ACCESS_TOKEN'});\n\n// Create custom property\nawait hubspotClient.crm.properties.coreApi.create('contacts', {\n  name: 'referral_partner_id',\n  label: 'Referral Partner ID',\n  type: 'string',\n  fieldType: 'text'\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"referral-link-generator",children:"Referral Link Generator"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"function generateReferralLink(partnerId, page = '') {\n  const baseUrl = 'https://azurcharters.com';\n  const referralCode = `${partnerId}_${Date.now().toString(36).substr(-4)}`;\n  return `${baseUrl}${page}?ref=${referralCode}&utm_source=referral&utm_medium=partner`;\n}\n\n// Usage\nconst link = generateReferralLink('INF001', '/fleet');\nconsole.log(link); // https://azurcharters.com/fleet?ref=INF001_a1b2&utm_source=referral&utm_medium=partner\n"})}),"\n",(0,t.jsx)(n.p,{children:"This guide provides the actual step-by-step mechanics to implement your referral system. Each section includes specific configurations and code you can copy and paste directly into your setup."}),"\n",(0,t.jsx)(n.p,{children:"Would you like me to walk through any specific section in more detail?"})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>o});var t=r(6540);const a={},i=t.createContext(a);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);